.container
	h3 Bilanz
	if this.accounts
		table.table
			thead
				tr(style="borderBottom:1px solid black")
					th(style="borderRight:1px solid black") VermÃ¶gen
					th Schulden
				tr
					td(style="borderRight:1px solid black")
						each account in this.actives
							div
								= account.name
								.pull-right= account.balance.abs()+""
					td
						each account in this.passives
							div
								= account.name
								.pull-right= account.balance.abs()+""
				if !this.balance.equals(0)
					tr
						th(style="borderRight:1px solid black")
							if this.balance.lt(0)
								| Verlust
								.pull-right= this.balance.abs()+""					
						th
							if this.balance.gt(0)
								| Gewinn
								.pull-right= this.balance.abs()+""					
				tr(style="borderTop:1px solid black")
					td.text-right(style="borderRight:1px solid black")= this.total+""
					td.text-right= this.total+""
script(section="body").
	constructor(props,context){
		super(props,context);
		this.componentWillReceiveProps(props);
	}
	async componentWillReceiveProps(props){
		this.accounts = await client.getAccounts({});
		for(var account of this.accounts){
			account.balance = decimal(account.balance);
		}
		this.actives = this.accounts.filter(a=>a.type===0&&a.balance.gt(0));
		this.passives = this.accounts.filter(a=>a.type===0&&a.balance.lt(0));
		this.activesTotal = this.actives.reduce((total,account)=>total.plus(account.balance.abs()),decimal(0));
		this.passivesTotal = this.passives.reduce((total,account)=>total.plus(account.balance.abs()),decimal(0));
		
		this.total = decimal.max(this.activesTotal,this.passivesTotal);
		this.balance = this.activesTotal.minus(this.passivesTotal);		
		this.forceUpdate();
	}
script.
	var client = require("./client");
	var decimal = require("decimal.js");
